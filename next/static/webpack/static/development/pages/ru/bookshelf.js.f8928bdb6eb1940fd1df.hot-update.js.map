{"version":3,"file":"static/webpack/static/development/pages/ru/bookshelf.js.f8928bdb6eb1940fd1df.hot-update.js","sources":["webpack:///./src/components/organisms/Genres/Genres.tsx"],"sourcesContent":["import React, { useMemo, useContext } from 'react';\nimport cc from 'classcat';\nimport useTranslation from 'next-translate/useTranslation';\nimport {\n  Context,\n  FILTER_BY_GENRE,\n} from 'src/components/context/BookshelfContext';\nimport { NavigationLink } from 'src/components/atoms/NavigationLink';\nimport { Heading2 } from 'src/components/atoms/Typography';\nimport s from './Genres.module.css';\n\nconst cross = require('./assets/x-circle.svg?include');\n\nexport const Genres = ({ books }) => {\n  const { t } = useTranslation();\n  const [filters, dispatch] = useContext(Context);\n\n  const genres = useMemo<Array<string>>(() => {\n    const nonUnique = books.reduce((acc, { genres }) => acc.concat(genres), []);\n    return Array.from(new Set(nonUnique));\n  }, [books]);\n\n  return (\n    <div className={s.root}>\n      <Heading2>{t`bookshelf:genres`}</Heading2>\n      <nav className={s.nav}>\n        {genres.map(genre => {\n          const isActive = genre === filters.genre;\n\n          return (\n            <NavigationLink\n              key={genre}\n              className={cc({\n                [s.item]: true,\n                [s.active]: genre === filters.genre,\n              })}\n              onClick={() =>\n                dispatch({\n                  type: FILTER_BY_GENRE,\n                  payload: isActive ? null : genre,\n                })\n              }\n            >\n              {t(`books:genres.${genre}`)}\n              {isActive && (\n                <span\n                  className={s.close}\n                  dangerouslySetInnerHTML={{ __html: cross }}\n                />\n              )}\n            </NavigationLink>\n          );\n        })}\n      </nav>\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AAIA;AAAA;AAEA;AACA;AAFA;AADA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAIA;;;;A","sourceRoot":""}